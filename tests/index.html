<!DOCTYPE html>
<html>
<head>

    <meta charset="UTF-8">
    <title>leaflet tests</title>

    <!--leaflet css-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
          integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
          crossorigin=""/>
    <!--geocoder css-->
    <!--<link rel="stylesheet" href="node_modules/leaflet-geosearch/dist/style.css">-->
    <!--leaflet js-->
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
            integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
            crossorigin=""></script>

    <!--geocoder js-->
    <!--<script src="node_modules/leaflet-geosearch/dist/bundle.js"></script>-->

    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css"/>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

    <style>
        #mapid {
            height: 750px;
        }
    </style>

</head>

<body>

<div id="mapid"></div>

</body>

<script>
<<<<<<< HEAD


    let markers = [];

    let map = L.map('mapid').setView([45.758032279658444, 4.83110727731003], 13);

    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);


=======
    let markers = [];
    let map = L.map('mapid').setView([45.758032279658444, 4.83110727731003], 13);
    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);
>>>>>>> dev
    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);
    L.Control.geocoder().addTo(map);
<<<<<<< HEAD


=======
>>>>>>> dev
    //on click on map event
    function onMapClick(e) {
        console.log(e.latlng);
        L.marker([e.latlng.lat, e.latlng.lng]).addTo(map);
    }
<<<<<<< HEAD

    map.on('click', onMapClick);

=======
    map.on('click', onMapClick);
>>>>>>> dev
    let dataSample = [
        {
            lat: 45.75702922677463,
            lng: 4.83249843120575,
            stories: [
                {
                    id: 1,
                    title: "aux fleurs du sud",
                    description: "c'est blindé de fleurs",
                    content: "et tu peux en cueillir",
                    date: {
                        year: 2018,
                        month: 4,
                        day: 25
                    }
                }
            ]
        },
        {
            lat: 45.75854877000632,
            lng: 4.825798273086549,
            stories: [
                {
                    id: 1,
                    title: "Eglise évangélique du vieux lyon",
                    description: "ils y ont fait des orgies !",
                    content: "et y avait même des vaches :O",
                    date: {
                        year: -200,
                        month: 4,
                        day: 25
                    }
                }
            ]
        },
        {
            lat: 45.759368407918835,
            lng: 4.847566494192455,
            stories: [
                {
                    id: 1,
                    title: "A la place guichard on mangeait des quiches",
                    description: "quiches au lard, au gruyère et au poivre d'andalousie",
                    content: "il parait qu'il y avait aussi des morceaux de cadavres humains",
                    date: {
                        year: 2018,
                        month: 4,
                        day: 25
                    }
                }
            ]
        }
<<<<<<< HEAD

    ]


=======
    ]
>>>>>>> dev
    for (let i = 0 ; i < dataSample.length ; i++) {
        markers[i] = L.marker([dataSample[i].lat, dataSample[i].lng]).addTo(map);
        markers[i].bindPopup("<b>" + dataSample[i].stories[0].title + "</b><br>" + dataSample[i].stories[0].description + "<br>Year : " + dataSample[i].stories[0].date.year);
    }
<<<<<<< HEAD


=======
>>>>>>> dev
</script>

</html>